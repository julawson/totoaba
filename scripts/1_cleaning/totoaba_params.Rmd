## Calculating Parameters for Totoaba Model ##

## All Values need to be in the units of totoaba tonnes ##

```{r load libraries}
library(here)
library(tidyverse)

```

```{r loading data}

dat_aqm <- read.csv(here("data","andrew","dat_aqm.csv")) #Aquaculture Mortality by Age (in Months)
dat_b <- read.csv(here("data","andrew","dat_b.csv")) #Biomass by Age (INAPESCA)
dat_bc <- read.csv(here("data","andrew","dat_bc.csv")) #Biomass, Number of Individuals by Year (INAPESCA) check?
dat_bio <- read.csv(here("data","andrew","dat_bio.csv")) #Biomass, Number of Individuals by Age (in Years) (INAPESCA)
dat_inapesca_bio <- read.csv(here("data","andrew","dat_inpesca_bio.csv")) #Age-Length-Weight Relationships (INAPESCA 2020)
dat_p <- read.csv(here("data","andrew","dat_p.csv")) #Price-quantity data (OG Paper)
dat_pars <- read.csv(here("data","andrew","dat_pars.csv")) %>% mutate(across(4:6, round, 6)) #Overall parameters (OG Paper)

```

```{r growth parameters}

# Define the parameters for the biological resource
r <- 0.23 #intrinsic rate of population increase ** (Needed: Ere)
k <- 20226 #carrying capacity (biomass in t)
theta <- 0.001 #catchability (needs to be effort per tonne of biomass) ** (Needed: Ere)

```


```{r poaching effort}

# Define the parameters for the poaching effort
# Fixed parameters
n <- 0.1
theta <- 2 #cost parameter, assumed to be 2 (fixed)
z <- 2 * W 

P_par <- read.csv(here("data","P_par.csv")) # Price in end-markets, from INAPESCA Fig 4.4
s_par <- read.csv(here("data","s_par.csv"))  # Price paid to fishers on beaches, from INAPESCA Fig 4.4

# Estimated parameters
P <- 100 # exogenous market price per unit of output ($USD per tonne of totoaba biomass)
W <- 5 # cost parameter, poaching costs ($USD per tonne of totoaba biomass)
s <- 25 #price paid to poachers ($USD per tonne of totoaba biomass)

alpha <- #inverse demand parameter
beta <- #inverse demand parameter
  
```

```{r farming costs}

c <- #cost of trading (transport and final sale)
v <- #farming cost
lambda <- #substitutability


```

```{r initial conditions}
# Initial conditions
initial_x <- 1400 #t of totoaba in 2017
initial_E <- 0.000104 #125 vessels, 763 tonnes of adults/sub-adults

# Time points for the simulation
time_points <- seq(0, 50, 0.1)

```